# RagCode MCP Server - Environment Variables Reference
# NOTE: This project uses config.yaml for configuration
# Environment variables OVERRIDE config.yaml values when set
# 
# IMPORTANT: Do NOT use .env files - set environment variables directly or via config.yaml
# This file documents all available environment variable overrides

# ============================================================================
# LLM Configuration - Ollama (Default Provider)
# ============================================================================
# These override llm.* settings in config.yaml

# Ollama server base URL
# Default: http://localhost:11434
OLLAMA_BASE_URL=http://localhost:11434

# Chat model identifier (must be installed in Ollama)
# Default: phi3:medium
# Examples: llama2, mistral, neural-chat, phi3:medium, etc.
OLLAMA_MODEL=phi3:medium

# Embedding model identifier (must be installed in Ollama)
# Default: nomic-embed-text
# Examples: nomic-embed-text, all-minilm, etc.
OLLAMA_EMBED=nomic-embed-text

# LLM temperature for generation (0.0-2.0)
# Default: 0.7
# Lower = more deterministic, Higher = more creative
LLM_TEMPERATURE=0.7

# Maximum tokens for LLM responses
# Default: 1024
LLM_MAX_TOKENS=1024

# Request timeout in seconds
# Default: 60
LLM_TIMEOUT=60

# ============================================================================
# Vector Database Configuration - Qdrant
# ============================================================================
# These override storage.vector_db.* settings in config.yaml

# Qdrant server URL (http or grpc)
# Default: http://localhost:6333
# For cloud: https://xxxxx-xxxxx.eu-west-1-0.aws.cloud.qdrant.io
QDRANT_URL=http://localhost:6333

# Qdrant API key (optional, for cloud/secured instances)
# Default: empty string (no authentication)
QDRANT_API_KEY=

# ============================================================================
# Multi-Workspace Configuration
# ============================================================================
# These override workspace.* settings in config.yaml
# 
# NOTE: These are AUTO-MANAGED by the system
# You should NOT set these unless you have specific requirements

# Enable multi-workspace mode (creates collections per workspace per language)
# Default: true
WORKSPACE_ENABLED=true

# Automatic indexing when new workspace detected
# Default: true
WORKSPACE_AUTO_INDEX=true

# Maximum workspaces to index simultaneously (0 = unlimited)
# Default: 10
WORKSPACE_MAX_WORKSPACES=10

# Collection naming prefix for multi-workspace mode
# Default: ragcode
# Format: {prefix}-{workspaceID}-{language}
# Example: ragcode-a1b2c3d4e5f6-go
# NOTE: Do NOT change unless you're migrating from existing setup
WORKSPACE_COLLECTION_PREFIX=ragcode

# ============================================================================
# Documentation Collections (Optional)
# ============================================================================
# These override docs.* and api_docs.* settings in config.yaml

# Qdrant collection for markdown documentation
# Default: do-ai-docs
DOCS_COLLECTION=do-ai-docs

# Qdrant collection for API documentation (extracted from code)
# Default: do-ai-api-docs
API_DOCS_COLLECTION=do-ai-api-docs

# ============================================================================
# Logging Configuration
# ============================================================================
# These override logging.* settings in config.yaml

# Log level: debug, info, warn, error
# Default: info
MCP_LOG_LEVEL=info

# Log format: text, json
# Default: text
LOG_FORMAT=text

# ============================================================================
# RECOMMENDED SETUP
# ============================================================================
# For most users, only set these 4 environment variables:
#   1. OLLAMA_BASE_URL
#   2. OLLAMA_MODEL
#   3. OLLAMA_EMBED
#   4. QDRANT_URL
#
# All other settings have sensible defaults and are auto-managed.
# Multi-workspace and per-language collections are handled automatically.

# ============================================================================
# CONFIGURATION PRECEDENCE
# ============================================================================
# 1. Environment Variables (highest priority) - set here
# 2. config.yaml file (in project root)
# 3. Defaults (lowest priority) - hardcoded in code
#
# Example: If OLLAMA_MODEL env var is set, it overrides config.yaml value
# Example: If config.yaml sets OLLAMA_MODEL, it overrides default

# ============================================================================
# CONFIGURATION FILES
# ============================================================================
# Main configuration: config.yaml in project root
# See docs/architecture.md for detailed documentation
# See README.md for quick start guide
